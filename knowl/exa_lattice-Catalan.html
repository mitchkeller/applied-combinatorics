<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<article class="example example-like"><h3 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.28</span><span class="period">.</span>
</h3>
<div class="para logical">
<div class="para">Let <span class="process-math">\(n\)</span> be a non-negative integer. Then the number of lattice paths from <span class="process-math">\((0,0)\)</span> to <span class="process-math">\((n,n)\)</span> which never go above the diagonal line <span class="process-math">\(y=x\)</span> is the <dfn class="terminology">Catalan number</dfn>
</div>
<div class="displaymath process-math">
\begin{equation*}
C(n) =\frac{1}{n+1}\binom{2n}{n}.
\end{equation*}
</div>
</div> <div class="para">To see that this formula holds, consider the family <span class="process-math">\(\cgP\)</span> of all lattice paths from <span class="process-math">\((0,0)\)</span> to <span class="process-math">\((n,n)\text{.}\)</span> A lattice path from <span class="process-math">\((0,0)\)</span> to <span class="process-math">\((n,n)\)</span> is just a <span class="process-math">\(\{H,V\}\)</span>-string of length <span class="process-math">\(2n\)</span> with exactly <span class="process-math">\(n\)</span> <span class="process-math">\(H\)</span>’s. So <span class="process-math">\(|\cgP|=\binom{2n}{n}\text{.}\)</span> We classify the paths in <span class="process-math">\(\cgP\)</span> as <em class="emphasis">good</em> if they never go over the diagonal; otherwise, they are <em class="emphasis">bad</em>. A string <span class="process-math">\(s\in\cgP\)</span> is good if the number of <span class="process-math">\(V\)</span>’s in an initial segment of <span class="process-math">\(s\)</span> never exceeds the number of <span class="process-math">\(H\)</span>’s. For example, the string “<span class="process-math">\(HHVHVVHHHVHVVV\)</span>” is a good lattice path from <span class="process-math">\((0,0)\)</span> to <span class="process-math">\((7,7)\text{,}\)</span> while the path “<span class="process-math">\(HVHVHHVVVHVHHV\)</span>” is bad. In the second case, note that after <span class="process-math">\(9\)</span> moves, we have <span class="process-math">\(5\)</span> <span class="process-math">\(V\)</span>’s and <span class="process-math">\(4\)</span> <span class="process-math">\(H\)</span>’s.</div> <div class="para">Let <span class="process-math">\(\cgG\)</span> and <span class="process-math">\(\cgB\)</span> denote the family of all good and bad paths, respectively. Of course, our goal is to determine <span class="process-math">\(|\cgG|\text{.}\)</span>
</div> <div class="para">Consider a path <span class="process-math">\(s\in\cgB\text{.}\)</span> Then there is a least integer <span class="process-math">\(i\)</span> so that <span class="process-math">\(s\)</span> has more <span class="process-math">\(V\)</span>’s than <span class="process-math">\(H\)</span>’s in the first <span class="process-math">\(i\)</span> positions. By the minimality of <span class="process-math">\(i\text{,}\)</span> it is easy to see that <span class="process-math">\(i\)</span> must be odd (otherwise, we can back up a step), and if we set <span class="process-math">\(i=2j+1\text{,}\)</span> then in the first <span class="process-math">\(2j+1\)</span> positions of <span class="process-math">\(s\text{,}\)</span> there are exactly <span class="process-math">\(j\)</span> <span class="process-math">\(H\)</span>’s and <span class="process-math">\(j+1\)</span> <span class="process-math">\(V\)</span>’s. The remaining <span class="process-math">\(2n-2j-1\)</span> positions (the “tail of <span class="process-math">\(s\)</span>”) have <span class="process-math">\(n-j\)</span> <span class="process-math">\(H\)</span>’s and <span class="process-math">\(n-j-1\)</span> <span class="process-math">\(V\)</span>’s. We now transform <span class="process-math">\(s\)</span> to a new string <span class="process-math">\(s'\)</span> by replacing the <span class="process-math">\(H\)</span>’s in the tail of <span class="process-math">\(s\)</span> by <span class="process-math">\(V\)</span>’s and the <span class="process-math">\(V\)</span>’s in the tail of <span class="process-math">\(s\)</span> by <span class="process-math">\(H\)</span>’s and leaving the initial <span class="process-math">\(2j+1\)</span> positions unchanged. For example, see <a href="" class="xref" data-knowl="./knowl/flippath.html" title="Figure 2.29">Figure 2.29</a>, where the path <span class="process-math">\(s\)</span> is shown solid and <span class="process-math">\(s'\)</span> agrees with <span class="process-math">\(s\)</span> until it crosses the line <span class="process-math">\(y=x\)</span> and then is the dashed path. Then <span class="process-math">\(s'\)</span> is a string of length <span class="process-math">\(2n\)</span> having <span class="process-math">\((n-j)+(j+1) = n+1\)</span> <span class="process-math">\(V\)</span>’s and <span class="process-math">\((n-j-1)+j=n-1\)</span> <span class="process-math">\(H\)</span>’s, so <span class="process-math">\(s'\)</span> is a lattice path from <span class="process-math">\((0,0)\)</span> to <span class="process-math">\((n-1,n+1)\text{.}\)</span> Note that there are <span class="process-math">\(\binom{2n}{n-1}\)</span> such lattice paths.</div> <figure class="figure figure-like"><div class="image-box" style="width: 50%; margin-left: 25%; margin-right: 25%;"><img src="external/3012-fig26.svg" role="img" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">2.29<span class="period">.</span></span><span class="space"> </span>Transforming a Lattice Path</figcaption></figure> <div class="para logical">
<div class="para">We can also observe that the transformation we’ve described is in fact a bijection between <span class="process-math">\(\cgB\)</span> and <span class="process-math">\(\cgP'\text{,}\)</span> the set of lattice paths from <span class="process-math">\((0,0)\)</span> to <span class="process-math">\((n-1,n+1)\text{.}\)</span> To see that this is true, note that every path <span class="process-math">\(s'\)</span> in <span class="process-math">\(\cgP'\)</span> must cross the line <span class="process-math">\(y=x\text{,}\)</span> so there is a first time it crosses it, say in position <span class="process-math">\(i\text{.}\)</span> Again, <span class="process-math">\(i\)</span> must be odd, so <span class="process-math">\(i=2j+1\)</span> and there are <span class="process-math">\(j\)</span> <span class="process-math">\(H\)</span>’s and <span class="process-math">\(j+1\)</span> <span class="process-math">\(V\)</span>’s in the first <span class="process-math">\(i\)</span> positions of <span class="process-math">\(s'\text{.}\)</span> Therefore the tail of <span class="process-math">\(s'\)</span> contains <span class="process-math">\(n+1-(j+1)=n-j\)</span> <span class="process-math">\(V\)</span>’s and <span class="process-math">\((n-1)-j\)</span> <span class="process-math">\(H\)</span>’s, so interchanging <span class="process-math">\(H\)</span>’s and <span class="process-math">\(V\)</span>’s in the tail of <span class="process-math">\(s'\)</span> creates a new string <span class="process-math">\(s\)</span> that has <span class="process-math">\(n\)</span> <span class="process-math">\(H\)</span>’s and <span class="process-math">\(n\)</span> <span class="process-math">\(V\)</span>’s and thus represents a lattice path from <span class="process-math">\((0,0)\)</span> to <span class="process-math">\((n,n)\text{,}\)</span> but it’s still a bad lattice path, as we did not adjust the first part of the path, which results in crossing the line <span class="process-math">\(y=x\)</span> in position <span class="process-math">\(i\text{.}\)</span> Therefore, <span class="process-math">\(|\cgB|=|\cgP'|\)</span> and thus</div>
<div class="displaymath process-math">
\begin{equation*}
C(n)=|\cgG|=|\cgP|-|\cgB|=|\cgP|-|\cgP'| = \binom{2n}{n} -
\binom{2n}{n-1} = \frac{1}{n+1}\binom{2n}{n},
\end{equation*}
</div>
<div class="para">after a bit of algebra.</div>
</div></article><span class="incontext"><a href="s_strings_bin-coeff.html#exa_lattice-Catalan" class="internal">in-context</a></span>
</body>
</html>
